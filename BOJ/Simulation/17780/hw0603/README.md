## Info
[17780 새로운 게임](https://www.acmicpc.net/problem/17780)

## 💡 풀이 방법 요약
보드 각 칸의 색 정보가 담겨 있는 리스트와 실제 각 칸에 쌓여 있는 말의 정보를 담기 위한 리스트를 따로 유지하였다.  
쌓여 있는 말의 순서를 저장하기 위해 `deque`를 사용하였다.  
  
'말 하나'에 대한 정보는 `dataclass`로 만들어 관리해 준다.  
```python
@dataclass
class Piece:
    idx: int = 0  # 말 번호
    pos: tuple[int, int] = (0, 0)
    dir: int = 0  # 0~3: 우, 좌, 상, 하
```
다음으로 문제 설명에 따라 흰 칸, 빨간 칸, 파란 칸으로 나누어 처리해 주면 되는데, `match~case`구문을 활용하여 구현했다. 처음에는 3가지 경우를 모두 나누어서 구현했지만 생각해 보니 빨간 칸과 흰 칸은 단순히 이동 후에 내가 이동한 말들의 순서를 뒤집어주냐/뒤집지 않느냐의 차이라 별도로 `move()` 함수를 만든 다음에 스택과 큐를 통해 구현해 주었다.  
  
파란 칸인 경우에는 말의 이동 방향을 반대로 뒤집은 후 그 방향으로 이동했을 때 다음 칸의 색깔도 중요하기 때문에, 해당 scope 안에서 또 `match~case`로 분기하여 처리해 준다.  
방향을 바꾼 후 이동하려는 칸이,
- 파란 칸인(또는 범위를 벗어나는) 경우
  - 별도의 처리를 해 주지 않아도 된다.
- 흰 칸이거나 빨간 칸인 경우
  - 그 칸의 속성에 맞게 이동한다.(`move()` 호출)

## 🙂 마무리
구현은 재밌었는데 덱을 너무 많이 써서 그런지 `Python3` 제출자 중에 거의 제일 느렸다..
